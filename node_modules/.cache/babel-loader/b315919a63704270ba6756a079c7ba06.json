{"remainingRequest":"C:\\projet\\sababa\\node_modules\\babel-loader\\lib\\index.js!C:\\projet\\sababa\\node_modules\\cache-loader\\dist\\cjs.js??ref--0-0!C:\\projet\\sababa\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!C:\\projet\\sababa\\src\\views\\parametrage\\GestionCodepostaux.vue?vue&type=script&lang=js&","dependencies":[{"path":"C:\\projet\\sababa\\src\\views\\parametrage\\GestionCodepostaux.vue","mtime":1576405726061},{"path":"C:\\projet\\sababa\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\projet\\sababa\\node_modules\\babel-loader\\lib\\index.js","mtime":499162500000},{"path":"C:\\projet\\sababa\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\projet\\sababa\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":["//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\nimport axios from 'axios';\nexport default {\n  data: function data() {\n    return {\n      titrepages: \"Liste des codes postaux\",\n      limitA: 0,\n      LimitLignePage: \"10\",\n      nombreligne: [{\n        a: 10,\n        value: \"10\"\n      }, {\n        a: 25,\n        value: \"25\"\n      }, {\n        a: 50,\n        value: \"50\"\n      }, {\n        a: 100,\n        value: \"100\"\n      }, {\n        a: 500,\n        value: \"500\"\n      }, {\n        a: 1000,\n        value: \"1000\"\n      }],\n      limitB: 10,\n      currentPage: 1,\n      nbrEnreg: 0,\n      nombrepage: 0,\n      i: 0,\n      CodePostal: '',\n      Ville: '',\n      Pays: '',\n      TcS: '',\n      TcL: '',\n      info: [],\n      modify: false,\n      Labelboutton: 'Ajouter',\n      keyline: '',\n      cheminUrl: 'http://127.0.0.1/apisababa/',\n      nameApi: 'parametrage/API_gestioncodepostaux/'\n    };\n  },\n  mounted: function mounted() {\n    var _this = this;\n\n    // lit la base de données \n    axios.get(this.cheminUrl + this.nameApi + 'littout').then(function (response) {\n      _this.info = response.data;\n      _this.nbrEnreg = _this.info.nbrenr;\n      console.log(\"*:\" + _this.info);\n      _this.limitA = 0;\n      _this.limitB = parseInt(_this.LimitLignePage);\n      _this.nombrepage = Math.ceil(_this.nbrEnreg / _this.limitB);\n    });\n  },\n  computed: {},\n  methods: {\n    affNbrLign: function affNbrLign(valeur) {\n      this.limitA = -1;\n      this.limitB = parseInt(valeur);\n      this.nombrepage = Math.ceil(this.nbrEnreg / this.limitB);\n      this.currentPage = 1;\n      console.log(\"nbr page\" + this.nbrEnreg / this.limitB);\n    },\n    affpagelien: function affpagelien(PageNouvelle) {\n      this.limitA = this.LimitLignePage * (PageNouvelle - 1);\n      this.limitB = this.LimitLignePage * PageNouvelle;\n    },\n    suivantplusun: function suivantplusun() {\n      if (this.currentPage < this.nombrepage) {\n        this.currentPage++;\n        this.limitA = this.LimitLignePage * (this.currentPage - 1) + 1;\n        this.limitB = this.LimitLignePage * this.currentPage;\n      }\n    },\n    suivantmoinsun: function suivantmoinsun() {\n      if (this.currentPage > 1) {\n        this.currentPage--;\n\n        if (this.currentPage === 1) {\n          this.i = 0;\n        } else {\n          this.i = 1;\n        }\n\n        this.limitA = this.LimitLignePage * (this.currentPage - 1) + this.i;\n        this.limitB = this.LimitLignePage * this.currentPage;\n      }\n    },\n    DernierePage: function DernierePage() {\n      if (this.currentPage < this.nombrepage) {\n        this.currentPage = this.nombrepage;\n        this.limitA = this.LimitLignePage * (this.currentPage - 1);\n        this.limitB = this.LimitLignePage * this.currentPage;\n      }\n    },\n    PremierePage: function PremierePage() {\n      if (this.currentPage > 1) {\n        this.currentPage = 1;\n        this.limitA = this.LimitLignePage * (this.currentPage - 1);\n        this.limitB = this.LimitLignePage * this.currentPage;\n      }\n    },\n    ajouter: function ajouter(i) {\n      var _this2 = this;\n\n      if (this.modify === true) {\n        //modifycivilite\n        axios.post(this.cheminUrl + this.nameApi + 'modifycodepostal', {\n          ville: this.Ville,\n          CodePostal: this.CodePostal,\n          pays: this.Pays,\n          index: i\n        }).then(function (response) {\n          if (response.data.erreur_sql === 0) {\n            _this2.Ville = '';\n            _this2.CodePostal = '';\n            _this2.Pays = '';\n            _this2.keyline = '';\n\n            _this2.$refs.closemodal.click();\n\n            _this2.ReadServer();\n          }\n        }).catch(function (error) {\n          console.log(error);\n        });\n      } else {\n        // ajouter !\n        axios.post(this.cheminUrl + this.nameApi + 'ajoutcodepostal', {\n          ville: this.Ville,\n          CodePostal: this.CodePostal,\n          pays: this.Pays\n        }).then(function (response) {\n          if (response.data.erreur_sql === 0) {\n            _this2.Ville = '';\n            _this2.CodePostal = '';\n            _this2.Pays = '';\n            _this2.keyline = '';\n\n            _this2.$refs.closemodal.click();\n\n            _this2.ReadServer();\n          }\n        }).catch(function (error) {\n          console.log(error);\n        });\n      }\n    } // fin de ajouter  \n    ,\n    DeleteLine: function DeleteLine(i) {\n      var _this3 = this;\n\n      axios.post(this.cheminUrl + this.nameApi + 'deletecodepostal', {\n        idline: i\n      }).then(function (response) {\n        if (response.data.erreur_sql === 0) {\n          _this3.keyline = '';\n\n          _this3.$refs.closemodal2.click();\n\n          _this3.ReadServer();\n        }\n      }).catch(function (error) {\n        console.log(error);\n      });\n    },\n    ModifyList: function ModifyList(a, b, c, d) {\n      this.modify = true; // pase en mode modifiction \n\n      this.Labelboutton = \"Modifier\";\n      this.Ville = b;\n      this.CodePostal = a;\n      this.Pays = c;\n      this.keyline = d;\n      this.$refs.openmodal.click();\n    },\n    fermemodale: function fermemodale() {\n      this.modify = false; // pase en mode modifiction \n\n      this.Labelboutton = \"Ajouter\";\n      this.Ville = '';\n      this.CodePostal = '';\n      this.Pays = '';\n      this.keyline = '';\n    },\n    deleteList_a: function deleteList_a(a) {\n      this.keyline = a;\n      this.$refs.openmodal2.click();\n    },\n    Trilistinverse: function Trilistinverse(a) {\n      console.log(a);\n    },\n    ReadServer: function ReadServer() {\n      var _this4 = this;\n\n      axios.get(this.cheminUrl + this.nameApi + 'littout').then(function (response) {\n        _this4.info = response.data;\n      });\n    }\n  }\n};",{"version":3,"sources":["GestionCodepostaux.vue"],"names":[],"mappings":"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","sourcesContent":["<template>\r\n\r\n<div id=\"gestioncodepostaux\">\r\n\r\n<welcome> </welcome>\r\n\r\n<div class=\"d-flex flex-column \">\r\n<div class=\"container\">\r\n\r\n <h2>{{titrepages}}</h2>\r\n\r\n<div class=\"d-flex justify-content-end\">\r\nNombre de ligne par page \r\n <select class=\"form-control-sm\" v-model=\"LimitLignePage\" @change=\"affNbrLign (LimitLignePage)\"> \r\n   <option v-for=\"nbrlignes in nombreligne\" :key=\"nbrlignes.a\" v-bind:value=\"nbrlignes.value\">  \r\n     {{nbrlignes.a}} \r\n     </option>\r\n       </select>  \r\n </div>\r\n<div class=\"d-flex justify-content-right\">\r\nNombre de ligne par page \r\n\r\n </div>\r\n\r\n \r\n              \r\n  <table class=\"table table-hover\">\r\n    <thead class = \"table-primary\">\r\n      <tr>\r\n        <th>N°</th>\r\n        <th>Code Postal</th>\r\n      <th>Ville</th>\r\n      <th>Pays</th>\r\n      <th> Actions    </th> \r\n      </tr>\r\n    </thead>\r\n\r\n  <tbody v-for= \"(items,index,i) in info \" :key =\"i\" v-if=\"i >= limitA && i <= limitB\">\r\n       <tr>\r\n     <!--  <b> *{{ nbrEnreg }} {{items.idPostalCode}} </b> --> \r\n <td> {{i+1}} </td> <td>{{items.PostalCode}}</td>  <td>{{items.Ville}} </td> <td>{{items.Pays}} </td>\r\n\r\n <td>\r\n<button type=\"button\" class=\"btn btn-secondary\" v-on:click=\"deleteList_a(items.idPostalCode)\" ><i class=\"material-icons\">delete</i></button> |\r\n <button type=\"button\" class=\"btn btn-primary\" v-on:click=\"ModifyList(items.PostalCode, items.Ville,items.Pays,items.idPostalCode)\"><i class=\"material-icons\">edit</i> \r\n  </button> \r\n  \r\n  </td>\r\n</tr>\r\n</tbody>\r\n</table>\r\n\r\n<div class=\"d-flex justify-content-center p-1\">\r\n<nav aria-label=\"\" class=\"p-2\">\r\n<ul class=\"pagination pagination-sm\">\r\n<li class=\"page-item active\" aria-current=\"page\"> <button type=\"button\" class=\"btn btn-outline-primary btn-sm\" @click =\"PremierePage()\"> <i class=\"material-icons\">skip_previous</i></button></li> \r\n<li class=\"page-item\"><button type=\"button\" class=\"btn btn-outline-primary btn-sm\" @click =\"suivantmoinsun()\"> <i class=\"material-icons\">arrow_left</i></button></li>\r\n\r\n<li class=\"page-item\">\r\n<select class=\"form-control\" v-model=\"currentPage\" v-on:change =\"affpagelien(currentPage)\"> \r\n<option v-for=\"i in nombrepage\" v-bind:value=\"i\">{{i}}</option></select>  \r\n</li>\r\n<li class=\"page-item\"> <button type=\"button\" class=\"btn btn-primary\" disabled> sur {{nombrepage}}</button> </li> \r\n\r\n\r\n\r\n\r\n<li class=\"page-item\"><button type=\"button\" class=\"btn btn-outline-primary btn-sm\" @click =\"suivantplusun()\"><i class=\"material-icons\">arrow_right</i></button></li>\r\n<li class=\"page-item\"><button type=\"button\" class=\"btn btn-outline-primary btn-sm\" @click =\"DernierePage()\"> <i class=\"material-icons\">skip_next</i></button></li>\r\n</ul> \r\n</nav>\r\n </div> \r\n\r\n<!-- Menu de navigation  -->\r\n \r\n<nav class = \"navbar navbar-light bg-dark\">\r\n<td> \r\n<button type=\"button\" class=\"btn btn-primary\" data-toggle=\"modal\" data-target=\"#formcodepostaux\" ref=\"openmodal\"> Ajouter </button>\r\n<a data-toggle=\"modal\" data-target=\"#DeleteAccord\" ref=\"openmodal2\"></a> </td>\r\n</nav>\r\n</div>\r\n\r\n\r\n\r\n\r\n</div>\r\n\r\n\r\n<!-- Modal -->\r\n<div class=\"modal fade\" id=\"formcodepostaux\" tabindex=\"-1\" role=\"dialog\" aria-labelledby=\"formcivilite\" aria-hidden=\"true\">\r\n  <div class=\"modal-dialog\" role=\"document\">\r\n    <div class=\"modal-content\">\r\n      <div class=\"modal-header\">\r\n        <h5 class=\"modal-title\" id=\"exampleModalLabel\">{{titrepages}}</h5>\r\n        <button type=\"button\" class=\"close\" data-dismiss=\"modal\" aria-label=\"Close\" v-on:click=\"fermemodale ()\">\r\n      <span aria-hidden=\"true\">&times;</span>\r\n  </button>\r\n </div>\r\n <div class=\"modal-body\">\r\n     \r\n<p align=\"center alert alert-danger\">   </p> \r\n<label class =\"blue-text text-darken-2\"> Code postal </label> <input type=\"text\" class=\"form-control\" id=\"CodePostal\" name=\"CodePostal\" v-model=\"CodePostal\" placeholder=\"\">\r\n<label class =\"blue-text text-darken-2\"> Ville</label> <input type=\"text\" class=\"form-control\" id=\"ville\" name=\"ville\" v-model=\"Ville\" placeholder=\"\"> \r\n<label class =\"blue-text text-darken-2\"> Pays</label> <input type=\"text\" class=\"form-control\" id=\"pays\" name=\"pays\" v-model=\"Pays\" placeholder=\"\"> \r\n\r\n<input  type=\"hidden\"  class=\"form-control\" id=\"index\" name=\"index\" v-model=\"keyline\"> \r\n\r\n      </div>\r\n      <div class=\"modal-footer\">\r\n       <button  type=\"button\" class=\"btn btn-primary\" v-on:click='ajouter(keyline)'>{{ Labelboutton  }}</button> \r\n       <button type=\"button\" class=\"btn btn-secondary\" data-dismiss=\"modal\" ref =\"closemodal\" v-on:click=\"fermemodale ()\">Fermer</button>\r\n\r\n      </div>\r\n    </div>\r\n  </div>\r\n</div>\r\n\r\n\r\n<!-- Modal -->\r\n<div class=\"modal fade\" id=\"DeleteAccord\" tabindex=\"-1\" role=\"dialog\" aria-labelledby=\"DeleteAccord\" aria-hidden=\"true\">\r\n  <div class=\"modal-dialog\" role=\"document\">\r\n    <div class=\"modal-content\">\r\n      <div class=\"modal-header\">\r\n        <h5 class=\"modal-title\">Attention </h5>\r\n        <button type=\"button\" class=\"close\" data-dismiss=\"modal\" aria-label=\"Close\" >\r\n      <span aria-hidden=\"true\">&times;</span>\r\n  </button>\r\n </div>\r\n <div class=\"modal-body alert alert-warning\" role=\"alert\">\r\nEtes-vous sûr de vouloir supprimer ?  \r\n </div>\r\n <input type=\"hidden\"  class=\"form-control\" id=\"index\" name=\"index\" v-model=\"keyline\"> \r\n      \r\n      <div class=\"modal-footer\">\r\n       <button  type=\"button\" class=\"btn btn-danger\" v-on:click='DeleteLine (keyline)'> Oui je supprimer </button> \r\n       <button type=\"button\" class=\"btn btn-secondary\" data-dismiss=\"modal\" ref =\"closemodal2\">Fermer</button>\r\n\r\n      </div>\r\n    </div>\r\n  </div>\r\n</div>\r\n\r\n<baspage> </baspage>\r\n<!-- fin de div -->\r\n  </div> \r\n</template>\r\n\r\n<script>\r\nimport axios from 'axios'\r\n\r\nexport default {\r\n \r\n  data () {\r\n    return {\r\n      titrepages: \"Liste des codes postaux\",\r\n        limitA: 0,\r\n         LimitLignePage: \"10\",\r\n        nombreligne:[\r\n         {a : 10, value:\"10\"  },\r\n         {a : 25, value:\"25\"  },\r\n         {a : 50, value:\"50\"  },\r\n         {a : 100, value:\"100\"  },\r\n         {a : 500, value:\"500\"  },\r\n         {a : 1000, value:\"1000\" }\r\n         \r\n        ]\r\n          ,\r\n       limitB:10, \r\n       currentPage: 1,\r\n        nbrEnreg:0, \r\n        nombrepage: 0,\r\n        i:0,\r\n   CodePostal: '',\r\n   Ville : '',\r\n   Pays:'',\r\n  TcS: '', \r\nTcL:'', \r\ninfo : [],\r\nmodify : false,\r\nLabelboutton: 'Ajouter',\r\nkeyline:'', \r\ncheminUrl: 'http://127.0.0.1/apisababa/',\r\nnameApi : 'parametrage/API_gestioncodepostaux/',\r\n }\r\n  },\r\n\r\nmounted : function () \r\n{\r\n// lit la base de données \r\naxios.get(this.cheminUrl+this.nameApi+'littout').then(response => {\r\nthis.info = response.data \r\nthis.nbrEnreg = this.info.nbrenr\r\n\r\nconsole.log (\"*:\"+this.info)\r\nthis.limitA = 0\r\nthis.limitB = parseInt(this.LimitLignePage)\r\nthis.nombrepage  = Math.ceil(this.nbrEnreg/this.limitB)\r\n\r\n\r\n\r\n})\r\n\r\n}, \r\n\r\ncomputed : {\r\n\r\n\r\n\r\n\r\n}\r\n\r\n,\r\nmethods: {\r\n\r\naffNbrLign : function (valeur)\r\n{\r\nthis.limitA = -1\r\nthis.limitB = parseInt(valeur) \r\nthis.nombrepage  =Math.ceil(this.nbrEnreg/this.limitB)\r\nthis.currentPage =1\r\n\r\nconsole.log (\"nbr page\"+ this.nbrEnreg/this.limitB)\r\n\r\n},\r\n\r\naffpagelien : function (PageNouvelle)\r\n{\r\n  \r\nthis.limitA = this.LimitLignePage*(PageNouvelle-1)\r\nthis.limitB = this.LimitLignePage*PageNouvelle\r\n\r\n},\r\n\r\nsuivantplusun : function ()\r\n{\r\n  if (this.currentPage < this.nombrepage)\r\n  {\r\nthis.currentPage++\r\nthis.limitA = this.LimitLignePage*(this.currentPage-1)+1\r\nthis.limitB = this.LimitLignePage*this.currentPage\r\n } \r\n},\r\nsuivantmoinsun : function ()\r\n{\r\n  if (this.currentPage>1)\r\n  {\r\nthis.currentPage--\r\nif (this.currentPage === 1) {this.i = 0} else {this.i = 1 }\r\nthis.limitA = this.LimitLignePage*(this.currentPage-1)+this.i\r\nthis.limitB = this.LimitLignePage*this.currentPage\r\n  }\r\n\r\n\r\n}\r\n\r\n,\r\n\r\nDernierePage : function ()\r\n{\r\n\r\nif (this.currentPage < this.nombrepage)\r\n  {\r\nthis.currentPage = this.nombrepage\r\nthis.limitA = this.LimitLignePage*(this.currentPage-1)\r\nthis.limitB = this.LimitLignePage*this.currentPage\r\n} \r\n   \r\n},\r\n\r\nPremierePage : function () \r\n{\r\n\r\nif (this.currentPage>1)\r\n  {\r\nthis.currentPage=1\r\nthis.limitA = this.LimitLignePage*(this.currentPage-1)\r\nthis.limitB = this.LimitLignePage*this.currentPage\r\n  }\r\n\r\n\r\n\r\n}\r\n,\r\najouter : function (i) {\r\n\r\nif (this.modify === true)\r\n\r\n{\r\n//modifycivilite\r\naxios.post(this.cheminUrl+this.nameApi+'modifycodepostal', {\r\n          ville:  this.Ville, \r\n      CodePostal : this.CodePostal,\r\n      pays : this.Pays,\r\n    index: i \r\n  })\r\n.then(response =>{\r\n  \r\nif (response.data.erreur_sql === 0)\r\n{\r\nthis.Ville = ''\r\nthis.CodePostal= '' \r\nthis.Pays = ''\r\n this.keyline  =''\r\nthis.$refs.closemodal.click()\r\nthis.ReadServer ();\r\n}\r\n\r\n})\r\n .catch(function (error) {\r\n console.log(error);\r\n  });\r\n\r\n}\r\n\r\nelse\r\n\r\n{ // ajouter !\r\n\r\n\r\naxios.post(this.cheminUrl+this.nameApi+'ajoutcodepostal', {\r\n      ville:  this.Ville, \r\n      CodePostal : this.CodePostal,\r\n      pays : this.Pays \r\n\r\n  })\r\n.then(response =>{\r\n  \r\nif (response.data.erreur_sql === 0)\r\n{\r\nthis.Ville = ''\r\nthis.CodePostal= '' \r\nthis.Pays = ''\r\nthis.keyline = ''\r\nthis.$refs.closemodal.click()\r\nthis.ReadServer ();\r\n}\r\n\r\n})\r\n .catch(function (error) {\r\n console.log(error);\r\n  });\r\n\r\n}\r\n\r\n} // fin de ajouter  \r\n, \r\n\r\n\r\nDeleteLine : function (i) \r\n{\r\n\r\naxios.post(this.cheminUrl+this.nameApi+'deletecodepostal', {\r\nidline : i\r\n })\r\n.then(response =>{\r\n  \r\nif (response.data.erreur_sql === 0)\r\n{\r\n  this.keyline = ''\r\nthis.$refs.closemodal2.click()\r\nthis.ReadServer ();\r\n}\r\n\r\n})\r\n .catch(function (error) {\r\n console.log(error);\r\n  });\r\n\r\n},\r\n\r\n\r\nModifyList : function (a,b,c,d) \r\n{\r\nthis.modify  = true;  // pase en mode modifiction \r\nthis.Labelboutton =\"Modifier\"\r\nthis.Ville = b\r\nthis.CodePostal= a \r\nthis.Pays = c\r\nthis.keyline = d\r\nthis.$refs.openmodal.click()\r\n},\r\n\r\nfermemodale : function () {\r\nthis.modify  = false;  // pase en mode modifiction \r\nthis.Labelboutton =\"Ajouter\"\r\nthis.Ville = ''\r\nthis.CodePostal= '' \r\nthis.Pays = ''\r\nthis.keyline =''\r\n\r\n},\r\n\r\ndeleteList_a : function (a)\r\n{\r\nthis.keyline = a\r\n\r\nthis.$refs.openmodal2.click ();\r\n\r\n},\r\n\r\nTrilistinverse : function (a)\r\n{\r\n\r\nconsole.log (a) \r\n\r\n}\r\n\r\n,\r\nReadServer : function () \r\n{\r\naxios.get(this.cheminUrl+this.nameApi+'littout').then(response => {\r\nthis.info = response.data })\r\n\r\n}\r\n\r\n}\r\n\r\n\r\n}\r\n</script> \r\n\r\n"],"sourceRoot":"src/views/parametrage"}]}