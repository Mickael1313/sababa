{"remainingRequest":"/home/projet/sababa/node_modules/vue-loader/lib/index.js??vue-loader-options!/home/projet/sababa/src/views/Home.vue?vue&type=script&lang=js&","dependencies":[{"path":"/home/projet/sababa/src/views/Home.vue","mtime":1603092811761},{"path":"/home/projet/sababa/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/projet/sababa/node_modules/babel-loader/lib/index.js","mtime":499162500000},{"path":"/home/projet/sababa/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/projet/sababa/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCi8vIEAgaXMgYW4gYWxpYXMgdG8gL3NyYwppbXBvcnQgYXhpb3MgZnJvbSAnYXhpb3MnCgpleHBvcnQgZGVmYXVsdCB7CgogIGRhdGEgKCkgewogICAgcmV0dXJuIHsKICAgICAgbXNnOiAnJywKICAgICAgZXJyZXVyZm9ybTogZmFsc2UsCiAgICAgIGVycmV1ckFwaUNvbm5lY3Q6IGZhbHNlLAogICAgICBtYWlsOiAnJywKICAgICAgbXA6ICcnLAogICAgICBtZXNzYWdlOiAnJywKICAgICAgZXJyZXVyMTogJycsCiAgICAgIGluZm86IG51bGwsCiAgICAgIGxvYWRpbmc6IHRydWUsCiAgICAgIGlkdXRpbGlzYXRldXJlbmNvdXJzOiAwLAogICAgICBub211dGlsaXNhdGV1cmVuY291cnM6ICcnLAogICAgICBtYWlsdXRpbGlzYXRldXJlbmNvdXJzOiAnJywKICAgICAgcHJlbm9tdXRpbGlzYXRldXJlbmNvdXJzOiAnJywKICAgICAgbm9tc29jaWV0ZTogJycsCiAgICAgIGNoZW1pblVybDogcHJvY2Vzcy5lbnYuVlVFX0FQUF9VUkwsCiAgICAgIEFQSV9HZXN0aW9uY29ubmV4aW9uOiAnY29ubmV4aW9uL0FQSV9jb25uZXhpb24vJywKICAgIHR4dDEgOiBwcm9jZXNzLmVudi5WVUVfQVBQX1VSTCwKICAgIHR4dDI6IHByb2Nlc3MuZW52LlZVRV9BUFBfVElUTEUgCiAgICB9CgogIH0sCiAgbW91bnRlZCA6IGZ1bmN0aW9uICgpCiAgewoKICAgIAoKCgogICAgdGhpcy5tYWlsID0gbG9jYWxTdG9yYWdlLm1haWx1dGlsaXNhdGV1cmVuY291cnMKCiAgICAvKiB0aGlzLm5vbXV0aWxpc2F0ZXVyZW5jb3VycyA9IGxvY2FsU3RvcmFnZS5ub211dGlsaXNhdGV1cmVuY291cnMKICAgICB0aGlzLm1haWx1dGlsaXNhdGV1cmVuY291cnMgPSBsb2NhbFN0b3JhZ2UubWFpbHV0aWxpc2F0ZXVyZW5jb3VycwogICAgIHRoaXMucHJlbm9tdXRpbGlzYXRldXJlbmNvdXJzID1sb2NhbFN0b3JhZ2UucHJlbm9tdXRpbGlzYXRldXJlbmNvdXJzCiAgICAgdGhpcy5pZHV0aWxpc2F0ZXVyZW5jb3VycyA9IGxvY2FsU3RvcmFnZS5pZHV0aWxpc2F0ZXVyZW5jb3VycwoqLwogIH0KICAsCgogIG1ldGhvZHMgOiB7CgogICAgZ2VzdGNvbm5leGlvbiA6IGZ1bmN0aW9uICgpIHsKCiAgICAgIHRoaXMuZXJyZXVyZm9ybSA9IGZhbHNlOwogICAgICB0aGlzLmVycmV1ckFwaUNvbm5lY3QgID0gZmFsc2U7CiAgICAgIHRoaXMubWVzc2FnZSAgPSAnJzsKCiAgICAgIGlmICh0aGlzLm1haWwgPT09ICcnIHx8IHRoaXMubXAgPT09ICcnICkgewogICAgICAgIHRoaXMuZXJyZXVyZm9ybSA9IHRydWU7CiAgICAgICAgdGhpcy5tZXNzYWdlID0iRXJyZXVyOiBsZSBjaGFtcHMgZW1haWwgb3UgbW90IGRlIHBhc3NlIHZpZGUgIzEgIjsKICAgICAgfSAgZWxzZSAgaWYgKCF0aGlzLnZhbGlkRW1haWwodGhpcy5tYWlsKSkgewoKICAgICAgICB0aGlzLmVycmV1cmZvcm0gPSB0cnVlOwogICAgICAgIHRoaXMubWVzc2FnZSA9IkVycmV1cjogVm90cmUgYWRyZXNzZSBlbWFpbCBuJ2VzdCBwYXMgY29uZm9ybWUgIzIiOwogICAgICB9CgogICAgICBpZiAodGhpcy5lcnJldXJmb3JtID09PSBmYWxzZSkgewoKICAgICAgICBheGlvcy5nZXQodGhpcy5jaGVtaW5VcmwrdGhpcy5BUElfR2VzdGlvbmNvbm5leGlvbisnZ2VzdGlvbl9jb25uZXhpb24vJyt0aGlzLm1haWwrJy8nK3RoaXMubXApLnRoZW4ocmVzcG9uc2UgPT4gewoKICAgICAgICAgIHRoaXMuaW5mbyA9IHJlc3BvbnNlLmRhdGEKCgogICAgICAgICAgaWYgKHRoaXMuaW5mby5lcnJldXJ1c2VyID09PSAxIHx8IHRoaXMuaW5mby5lcnJldXJtcCA9PT0gMSkKICAgICAgICAgIHsKICAgICAgICAgICAgdGhpcy5lcnJldXJmb3JtID0gdHJ1ZQogICAgICAgICAgICB0aGlzLmVycmV1ckFwaUNvbm5lY3QgPSB0cnVlCiAgICAgICAgICAgIHRoaXMubWVzc2FnZSA9ICdFcnJldXIgOiBBZHJlc3NlIG1haWwgb3UgbW90IGRlIHBhc3NlIGluY29ycmVjdCAjMycKICAgICAgICAgIH0KICAgICAgICAgIGVsc2UKICAgICAgICAgIHsKICAgICAgICAgICAgaWYgKCh0aGlzLmVycmV1cmZvcm0gPT09IGZhbHNlKSB8fCAodGhpcy5lcnJldXJBcGlDb25uZWN0PT09ZmFsc2UpKQogICAgICAgICAgICB7CgogICAgICAgICAgICAgIGxvY2FsU3RvcmFnZS5ub211dGlsaXNhdGV1cmVuY291cnMgPSB0aGlzLmluZm8ubm9tX3V0aWxpc2F0ZXVyX2VuY291cnMKICAgICAgICAgICAgICBsb2NhbFN0b3JhZ2UucHJlbm9tdXRpbGlzYXRldXJlbmNvdXJzID0gdGhpcy5pbmZvLlByZW5vbV91dGlsaXNhdGV1cl9lbmNvdXJzCiAgICAgICAgICAgICAgbG9jYWxTdG9yYWdlLm1haWx1dGlsaXNhdGV1cmVuY291cnMgPSB0aGlzLmluZm8ubWFpbF91dGlsaXNhdGV1cl9lY291cnMKICAgICAgICAgICAgICBsb2NhbFN0b3JhZ2UuaWR1dGlsaXNhdGV1cmVuY291cnMgPSB0aGlzLmluZm8uaWRfdXRpbGlzYXRldXJfZW5jb3VycwogICAgICAgICAgICAgIGxvY2FsU3RvcmFnZS5ub21zb2NpZXRlID0gdGhpcy5pbmZvLm5vbXNvY2lldGUKCgogICAgICAgICAgICAgIHRoaXMuJHJvdXRlci5wdXNoICgnL0hlbGxvL2dvJykKCiAgICAgICAgICAgIH19CgogICAgICAgIH0pCgogICAgICAgICAgICAuY2F0Y2ggKChlcnJvcikgID0+ICB7Ci8vIEVycmV1cgoKICAgICAgICAgICAgICBpZiAoZXJyb3IucmVzcG9uc2UpIHsKCiAgICAgICAgICAgICAgICB0aGlzLmVycmV1cmZvcm0gPSB0cnVlCiAgICAgICAgICAgICAgICB0aGlzLmVycmV1ckFwaUNvbm5lY3QgPSB0cnVlCiAgICAgICAgICAgICAgICB0aGlzLm1lc3NhZ2UgPSAnRXJyZXVyIGRlIGNvbm5leGlvbiBhdSBzZXJ2ZXVyIEFQSSAjMycKICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgZWxzZSBpZiAoZXJyb3IucmVxdWVzdCkgewoKICAgICAgICAgICAgICAgIHRoaXMuZXJyZXVyZm9ybSA9IHRydWUKICAgICAgICAgICAgICAgIHRoaXMuZXJyZXVyQXBpQ29ubmVjdCA9IHRydWUKICAgICAgICAgICAgICAgIHRoaXMubWVzc2FnZSA9ICdFcnJldXIgZGUgY29ubmV4aW9uIGF1IHNlcnZldXIgQVBJICM0JwoKICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgIGVsc2UgewogICAgICAgICAgICAgICAgdGhpcy5lcnJldXJmb3JtID0gdHJ1ZQogICAgICAgICAgICAgICAgdGhpcy5lcnJldXJBcGlDb25uZWN0ID0gdHJ1ZQogICAgICAgICAgICAgICAgdGhpcy5tZXNzYWdlID0gJ0VycmV1ciBkZSBjb25uZXhpb24gYXUgc2VydmV1ciBBUEkgIzUnCiAgICAgICAgICAgICAgfQogICAgICAgICAgICB9KQogICAgICAgICAgICAuZmluYWxseSgoKSA9PiAgeyB9KTsKICAgICAgfQoKCiAgICB9LAoKCiAgICB2YWxpZEVtYWlsOiBmdW5jdGlvbiAoZW1haWwpIHsKICAgICAgLyogZXNsaW50LWRpc2FibGUgIG5vLXVzZWxlc3MtZXNjYXBlICovCiAgICAgIHZhciByZSA9IC9eKChbXjw+KClcW1xdXFwuLDs6XHNAIl0rKFwuW148PigpXFtcXVxcLiw7OlxzQCJdKykqKXwoIi4rIikpQCgoXFtbMC05XXsxLDN9XC5bMC05XXsxLDN9XC5bMC05XXsxLDN9XC5bMC05XXsxLDN9XF0pfCgoW2EtekEtWlwtMC05XStcLikrW2EtekEtWl17Mix9KSkkLzsKICAgICAgcmV0dXJuIHJlLnRlc3QoZW1haWwpOwogICAgfQoKICB9Cgp9Cg=="},{"version":3,"sources":["Home.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAwEA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;;;;;AAMA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;;AAEA;;AAEA;;;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;;AAGA;;AAEA;;AAEA;;AAEA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;AAGA;;;AAGA;AACA;AACA;AACA;AACA;;AAEA;;AAEA","file":"Home.vue","sourceRoot":"src/views","sourcesContent":["<template>\n  <div id=\"Connexion\">\n\n\n    <header class=\"p-3\">\n      <h2> <i class=\"material-icons\">\n        storage\n      </i>SababaERP </h2>\n    </header>\n\n\n    <section>\n      <div class=\"d-flex shadow flex-column mx-auto w-50 bg-white rounded-5 border\">\n        <div class=\"p-2 bg-light rounded-top\"> <h5 class=\"mx-auto text-info p-3\"> >> Connexion Ã  l'intranet :)  Ah:  {{txt1}} </h5></div>\n\n        <!-- message d'erreur -->\n        <div align=\"center alert alert-danger\" v-if= \"erreurform\"> <b>{{ message }} </b></div>\n        <div align=\"center alert alert-danger\" v-if= \"!erreurform\"> <b>{{ message }}</b></div>\n        <!-------------------------------- -->\n\n\n        <div class=\"mx-auto w-75 form-group\">\n          <div class=\"input-group mb-2\">\n            <div class=\"input-group-prepend\">\n              <div class=\"input-group-text\"> <i class=\"material-icons\">mail</i> </div></div>\n\n            <input type=\"email\" class=\"form-control\" id=\"mail\" name=\"mail\" v-model=\"mail\" placeholder=\"adresse email\">\n          </div>\n        </div> <!-- mail -->\n\n        <div class=\"mx-auto w-75 form-group\">\n          <div class=\"input-group mb-2\"> <div class=\"input-group-prepend\">\n            <div class=\"input-group-text\"><i class=\"material-icons\">vpn_key</i></div> </div>\n            <input type=\"password\" class=\"form-control\" id=\"mp\" name=\"mp\" v-model=\"mp\" placeholder=\"******\">\n          </div>\n        </div> <!----mot de passe-->\n\n\n        <hr>\n        <div class = \"mx-5 p-3 bg-light mx-auto\">\n          <button class=\"btn btn-primary mx-auto\" v-on:click= \"gestconnexion()\">Connexion</button>\n        </div>\n\n\n      </div> <!-- containeir -->\n      <!--\n   <div class=\"d-flex flex-column w-100\">\n   <div class=\"min-vh-100 white\"> </div>\n      </div>\n  -->\n\n    </section>\n\n\n\n\n\n    <footer class=\"bg-light p-4 text-right text-dark\">\n      MD One Computer(c)2020\n    </footer>\n\n\n\n\n  </div>\n\n\n\n\n</template>\n\n<script>\n// @ is an alias to /src\nimport axios from 'axios'\n\nexport default {\n\n  data () {\n    return {\n      msg: '',\n      erreurform: false,\n      erreurApiConnect: false,\n      mail: '',\n      mp: '',\n      message: '',\n      erreur1: '',\n      info: null,\n      loading: true,\n      idutilisateurencours: 0,\n      nomutilisateurencours: '',\n      mailutilisateurencours: '',\n      prenomutilisateurencours: '',\n      nomsociete: '',\n      cheminUrl: process.env.VUE_APP_URL,\n      API_Gestionconnexion: 'connexion/API_connexion/',\n    txt1 : process.env.VUE_APP_URL,\n    txt2: process.env.VUE_APP_TITLE \n    }\n\n  },\n  mounted : function ()\n  {\n\n    \n\n\n\n    this.mail = localStorage.mailutilisateurencours\n\n    /* this.nomutilisateurencours = localStorage.nomutilisateurencours\n     this.mailutilisateurencours = localStorage.mailutilisateurencours\n     this.prenomutilisateurencours =localStorage.prenomutilisateurencours\n     this.idutilisateurencours = localStorage.idutilisateurencours\n*/\n  }\n  ,\n\n  methods : {\n\n    gestconnexion : function () {\n\n      this.erreurform = false;\n      this.erreurApiConnect  = false;\n      this.message  = '';\n\n      if (this.mail === '' || this.mp === '' ) {\n        this.erreurform = true;\n        this.message =\"Erreur: le champs email ou mot de passe vide #1 \";\n      }  else  if (!this.validEmail(this.mail)) {\n\n        this.erreurform = true;\n        this.message =\"Erreur: Votre adresse email n'est pas conforme #2\";\n      }\n\n      if (this.erreurform === false) {\n\n        axios.get(this.cheminUrl+this.API_Gestionconnexion+'gestion_connexion/'+this.mail+'/'+this.mp).then(response => {\n\n          this.info = response.data\n\n\n          if (this.info.erreuruser === 1 || this.info.erreurmp === 1)\n          {\n            this.erreurform = true\n            this.erreurApiConnect = true\n            this.message = 'Erreur : Adresse mail ou mot de passe incorrect #3'\n          }\n          else\n          {\n            if ((this.erreurform === false) || (this.erreurApiConnect===false))\n            {\n\n              localStorage.nomutilisateurencours = this.info.nom_utilisateur_encours\n              localStorage.prenomutilisateurencours = this.info.Prenom_utilisateur_encours\n              localStorage.mailutilisateurencours = this.info.mail_utilisateur_ecours\n              localStorage.idutilisateurencours = this.info.id_utilisateur_encours\n              localStorage.nomsociete = this.info.nomsociete\n\n\n              this.$router.push ('/Hello/go')\n\n            }}\n\n        })\n\n            .catch ((error)  =>  {\n// Erreur\n\n              if (error.response) {\n\n                this.erreurform = true\n                this.erreurApiConnect = true\n                this.message = 'Erreur de connexion au serveur API #3'\n              }\n              else if (error.request) {\n\n                this.erreurform = true\n                this.erreurApiConnect = true\n                this.message = 'Erreur de connexion au serveur API #4'\n\n              }\n\n              else {\n                this.erreurform = true\n                this.erreurApiConnect = true\n                this.message = 'Erreur de connexion au serveur API #5'\n              }\n            })\n            .finally(() =>  { });\n      }\n\n\n    },\n\n\n    validEmail: function (email) {\n      /* eslint-disable  no-useless-escape */\n      var re = /^(([^<>()\\[\\]\\\\.,;:\\s@\"]+(\\.[^<>()\\[\\]\\\\.,;:\\s@\"]+)*)|(\".+\"))@((\\[[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\\])|(([a-zA-Z\\-0-9]+\\.)+[a-zA-Z]{2,}))$/;\n      return re.test(email);\n    }\n\n  }\n\n}\n</script>\n"]}]}