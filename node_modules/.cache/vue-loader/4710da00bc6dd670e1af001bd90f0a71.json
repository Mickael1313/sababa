{"remainingRequest":"C:\\projet\\sababa\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!C:\\projet\\sababa\\src\\views\\ventes\\document_ventes.vue?vue&type=style&index=0&lang=css&","dependencies":[{"path":"C:\\projet\\sababa\\src\\views\\ventes\\document_ventes.vue","mtime":1599060378644},{"path":"C:\\projet\\sababa\\node_modules\\css-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\projet\\sababa\\node_modules\\vue-loader\\lib\\loaders\\stylePostLoader.js","mtime":499162500000},{"path":"C:\\projet\\sababa\\node_modules\\postcss-loader\\src\\index.js","mtime":499162500000},{"path":"C:\\projet\\sababa\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\projet\\sababa\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:CgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoNCi5hbGwtc2Nyb2xsIHtjdXJzb3I6IGFsbC1zY3JvbGw7fQ0KLmdob3N0IHsNCiAgb3BhY2l0eTogMC41Ow0KICBiYWNrZ3JvdW5kOiAjYzhlYmZiOw0KfQ0KDQo="},{"version":3,"sources":["document_ventes.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAomBA;AACA;AACA;AACA;AACA","file":"document_ventes.vue","sourceRoot":"src/views/ventes","sourcesContent":["<template>\r\n\r\n<div id=\"documentventes\">\r\n\r\n\r\n<div class = \"d-flex align-items-start flex-column bg-light\"> \r\n<div class=\"p2\">\r\n <h2>   {{titlePage}} </h2>\r\n1) choisir un client + N° de client  \r\n<br> \r\n2) date \r\n<br> \r\n3)  Description sur une ligne \r\n<br>\r\n4) recherche du produit (sans stock pour commaencer)\r\n<br> \r\n5) calcule du document TVA + TTC \r\n</div>\r\n</div> \r\n\r\n\r\n<b-container class=\"bv-example-row border\" >\r\n  <b-row class=\"justify-content-md-center\">\r\n  <b-col xl=\"4\"> <h4>Création du document</h4>   </b-col>\r\n\r\n\r\n\r\n\r\n <!-- recherche du client + choix\r\n    --> \r\n<b-col xl=\"4\" offset-md=\"4\">\r\n\r\n <h5> Client </h5>\r\n Recherche Client <b-form-input list=\"my-list-id\" v-model=\"searchclient\" @keypress=\"ajxClientDb()\" @keyup.delete = \"Ajxcliendb2 ()\" ></b-form-input>\r\n   <b-form-select\r\n      v-model=\"selected\"\r\n      :options=\"listeclient\"\r\n      class=\"mb-3\"\r\n      value-field=\"idclient\"\r\n      text-field=\"information_client\"\r\n      :select-size=\"nbrlignetbl\"\r\n      v-if=\"affiche\"\r\n       @change=\"SelectChoixClient()\"\r\n      disabled-field=\"notEnabled\"\r\n  ></b-form-select>\r\n  </b-col>\r\n\r\n  </b-row>\r\n  <b-row >\r\n    <b-col xl=\"8\" offset-md=\"8\">\r\n      <td> <i>information client</i><br> <b>{{titrecivil}} {{nomclient}}</b></td> <tr></tr>\r\n    <td>{{adresse}}</td> <tr></tr>\r\n <td> {{adressesuite}} </td> <tr></tr>\r\n <td> {{codepostal}} {{ville }} </td> <tr></tr>\r\n <td> {{emailclient}} {{telfixe }} </td> <tr></tr>\r\n  <td> {{telportable}} </td> <tr></tr>\r\n  </b-col>\r\n </b-row>\r\n  <!--\r\n     ******************************\r\n     -->\r\n  \r\n  <b-row class=\"p-2 shadow-sm\">\r\n\r\n    <b-col xl=\"3\" >\r\n      <label  for=\"Objet du document\">Objet / commentaire </label>\r\n    </b-col>\r\n        <b-col xl=\"9\">\r\n        <b-input v-model=\"objetdocument\" placeholder=\"objet/commentaire\"></b-input>\r\n   </b-col>\r\n\r\n\r\n  </b-row>\r\n\r\n\r\n  <b-row class=\"p-3 shadow-sm\">\r\n\r\n    <b-col xl=\"3\">\r\n      <label for=\"Date du document\">Date du document</label>\r\n    </b-col>\r\n    <b-col xl=\"3\">\r\n      <b-form-datepicker v-model=\"datedocument\" placeholder=\"date du document\" local=\"fr\" class=\"mb-2\"></b-form-datepicker>\r\n    </b-col>\r\n\r\n\r\n \r\n  <b-col xl=\"3\">\r\n    <label for=\"Date du document\">Date d'échéance</label>\r\n  </b-col>\r\n  <b-col xl=\"3\">\r\n    <b-form-datepicker v-model=\"datedocumentlimite\" placeholder=\"Date d'échéance\" local=\"fr\" class=\"mb-2\"></b-form-datepicker>\r\n  </b-col>\r\n\r\n    </b-row>\r\n\r\n  <b-row>\r\n\r\n\r\n    <b-col xl=\"1\" class=\"mx-auto\">\r\n      <b-button variant=\"sm\" @click=\"addlignedocument('produit')\">\r\n        <b-icon icon=\"cart-plus\" font-scale=\"2\"    aria-hidden=\"true\" ></b-icon>\r\n       Produit\r\n      </b-button>\r\n    </b-col>\r\n\r\n\r\n  <b-col xl=\"1\" class=\"mx-auto\" >\r\n\r\n    <b-button variant=\"sm\" @click=\"addlignedocument('commentaire')\">\r\n      <b-icon icon=\"file-earmark-plus\" font-scale=\"2\"    aria-hidden=\"true\" ></b-icon>\r\n    Commentaire\r\n    </b-button>\r\n\r\n  </b-col>\r\n  <b-col xl=\"1\" class=\"mx-auto\" >\r\n\r\n\r\n    <b-button variant=\"sm\" @click=\"addlignedocument('bloc')\">\r\n      <b-icon icon=\"bookmark-plus\" font-scale=\"2\"    aria-hidden=\"true\" ></b-icon>\r\n    Titre bloc\r\n    </b-button>\r\n\r\n  </b-col>\r\n\r\n\r\n\r\n  </b-row>\r\n\r\n      <draggable tag=\"ul\" :list=\"document\" class=\"list-group p-2\" handle=\".handle\"\r\n      ghost-class=\"ghost\"\r\n      @start=\"dragging = true\"\r\n      @end=\"dragging = true\">\r\n\r\n\r\n        <li  class=\"list-group-item\"\r\n        v-for=\"(element,index) in document\"\r\n        :key=\"element.id\" >\r\n\r\n          <b-row >\r\n <b-col cols=\"2\" class=\"align-middle\">\r\n <h5>Produit N° <b-badge>{{element.id }}</b-badge></h5>\r\n</b-col>\r\n\r\n     <b-col xl=\"1\" class=\"mx-auto\" >\r\n    <b-button variant=\"sm\" @click=\"removelignedocument(index)\">\r\n    <b-icon icon=\"trash\" font-scale=\"2\" aria-hidden=\"true\"></b-icon>\r\n    </b-button>\r\n     </b-col>\r\n\r\n     <b-col xl=\"1\" class=\"ml-auto text-right\" >\r\n     <b-icon icon=\"list\" font-scale=\"2\"   class=\"handle all-scroll \" aria-hidden=\"true\"></b-icon>\r\n     </b-col>\r\n      </b-row>\r\n\r\n\r\n\r\n          <b-row v-if=\"titrebloc\">\r\n            <b-col xl=\"8\" class=\"justify-content-center\">\r\n              <b-form-group\r\n                  id=\"Titre_Bloc\"\r\n                  label=\"Produit\"\r\n                  label-for=\"input-8\"\r\n                  :invalid-feedback=\"invalidFeedback\"\r\n                  :valid-feedback=\"validFeedback\"\r\n                  :state=\"state\"\r\n              >\r\n                <b-input placeholder=\"Titre Bloc\" > </b-input>\r\n              </b-form-group>\r\n\r\n            </b-col>\r\n\r\n          </b-row>\r\n\r\n\r\n\r\n\r\n\r\n\r\n          <b-row class=\"p-3 bg-light\">\r\n           <b-col xl=\"8\" class=\"justify-content-center\">\r\n              <b-form-group\r\n                  id=\"fieldset-7\"\r\n                  label=\"Produit\"\r\n                  label-for=\"input-8\"\r\n                  :invalid-feedback=\"invalidFeedback\"\r\n                  :valid-feedback=\"validFeedback\"\r\n                  :state=\"state\"\r\n              >\r\n              <b-input placeholder=\"Ref article\" v-model=\"refarticle\"> </b-input>\r\n              </b-form-group>\r\n            </b-col>\r\n\r\n  <b-col xl=\"5\">\r\n   <b-form-group\r\n              id=\"fieldset-1\"\r\n              label=\"Désignation\"\r\n              label-for=\"input-1\"\r\n              :invalid-feedback=\"invalidFeedback\"\r\n              :valid-feedback=\"validFeedback\"\r\n              :state=\"state\"\r\n          >\r\n\r\n            <b-input id=\"input-1\" v-model=\"designationproduit\"> </b-input>\r\n          </b-form-group>\r\n\r\n\r\n          </b-col>\r\n\r\n\r\n          <b-col xl=\"1\">\r\n\r\n\r\n            <b-form-group\r\n                id=\"fieldset-2\"\r\n                label=\"Qte\"\r\n                label-for=\"input-2\"\r\n                :invalid-feedback=\"invalidFeedback\"\r\n                :valid-feedback=\"validFeedback\"\r\n                :state=\"state\"\r\n            >\r\n\r\n              <b-input id=\"input-2\" v-model=\"Qantite\"> </b-input>\r\n            </b-form-group>\r\n          </b-col>\r\n\r\n\r\n          <b-col xl=\"2\">\r\n            <b-form-group\r\n                id=\"fieldset-3\"\r\n                label=\"Prix vente Ht\"\r\n                label-for=\"input-3\"\r\n                :invalid-feedback=\"invalidFeedback\"\r\n                :valid-feedback=\"validFeedback\"\r\n                :state=\"state\"\r\n            >\r\n\r\n              <b-input id=\"input-3\" v-model=\"Prixvente\"> </b-input>\r\n\r\n            </b-form-group>\r\n          </b-col>\r\n\r\n          <b-col xl=\"3\">\r\n\r\n            <b-form-group\r\n                id=\"fieldset-4\"\r\n                label=\"Tva\"\r\n                label-for=\"input-4\"\r\n                :invalid-feedback=\"invalidFeedback\"\r\n                :valid-feedback=\"validFeedback\"\r\n                :state=\"state\"\r\n            >\r\n\r\n\r\n              <b-form-select v-model=\"selectedtva\" :options=\"listeTva\"\r\n                             value-field=\"idtva\"\r\n                             text-field=\"tauxtva\">\r\n\r\n                <template v-slot:first>\r\n                  <b-form-select-option :value=\"null\" disabled>-- Selectionnez un taux de Tva --</b-form-select-option>\r\n                </template>\r\n\r\n              </b-form-select>\r\n            </b-form-group>\r\n\r\n\r\n\r\n\r\n          </b-col>\r\n         \r\n\r\n           <b-col xl=\"12\">\r\n              <b-form-group\r\n                  id=\"fieldset-6\"\r\n                  label=\"Description\"\r\n                  label-for=\"input-6\"\r\n                  :invalid-feedback=\"invalidFeedback\"\r\n                  :valid-feedback=\"validFeedback\"\r\n                  :state=\"state\"\r\n              >\r\n\r\n\r\n                <ckeditor :editor=\"editor\" v-model=\"datadescription\" :config=\"editorConfig\"></ckeditor>\r\n\r\n              </b-form-group>\r\n            </b-col>\r\n\r\n\r\n\r\n\r\n\r\n\r\n          </b-row>\r\n\r\n\r\n        </li>\r\n      </draggable>\r\n\r\n  <rawDisplayer class=\"col-3\" :value=\"document\" title=\"Document List\" />\r\n\r\n  <b-row class=\"p-3 mx-auto shadow-sm \">\r\n\r\n    <b-col xl=\"12\">\r\n      <b-form-group \r\n          id=\"fieldset-7\"\r\n          label=\"Produit\"\r\n          label-for=\"input-8\"\r\n          :invalid-feedback=\"invalidFeedback\"\r\n          :valid-feedback=\"validFeedback\"\r\n          :state=\"state\"\r\n      >\r\n\r\n\r\n\r\n      <b-input placeholder=\"Ref article\" v-model=\"article\"> </b-input>\r\n\r\n\r\n\r\n        <b-button size=\"sm\" class=\"mb-2\" @click=\"addlignedocument()\" variant=\"info\">\r\n          <b-icon icon=\"plus-circle\" aria-hidden=\"true\"></b-icon> Ajouter\r\n        </b-button>\r\n\r\n\r\n\r\n\r\n      </b-form-group>\r\n    </b-col>\r\n\r\n\r\n\r\n     </b-row>\r\n\r\n\r\n\r\n<b-row class=\"offset-9\">\r\n<b-col xl=\"5\">\r\nTotal €/HT\r\n</b-col>\r\n</b-row>\r\n\r\n<b-row class=\"offset-9\">\r\n<b-col xl=\"5\">\r\nTVA €/HT\r\n</b-col>\r\n</b-row>\r\n<b-row class=\"offset-9\">\r\n <b-col xl=\"5\">\r\nTVA €/HT\r\n</b-col>\r\n</b-row>\r\n\r\n</b-container>\r\n\r\n <b-container class=\"p-2 bg-dark shadow\">\r\n <b-row  class=\"justify-content-center\">\r\n   <b-col class=\"col-2 text-center\"   >\r\n <b-button variant=\"info\"> Enregistrer</b-button>\r\n </b-col>\r\n\r\n   <b-col class=\"col-2 text-center\" >\r\n     <b-button variant=\"info\">Annuler</b-button>\r\n   </b-col>\r\n </b-row>\r\n\r\n\r\n\r\n </b-container>\r\n  {{document }}\r\n\r\n</div> <!-- DIV Final-->\r\n\r\n\r\n\r\n</template>\r\n\r\n<script>\r\n\r\n\r\nimport axios from \"axios\";\r\nimport ClassicEditor from \"@ckeditor/ckeditor5-build-classic\";\r\nimport draggable from \"vuedraggable\";\r\n\r\n\r\n\r\n\r\n\r\nexport default {\r\n\r\n  name: \"handle\",\r\n  display: \"Handle\",\r\n  instruction: \"Drag using the handle icon\",\r\n  order: 5,\r\n  components: {\r\n    draggable,\r\n  }, \r\n\r\n\r\n\r\n  data () {\r\nreturn {\r\n\r\n  editor: ClassicEditor,\r\n  editorData: '<p>Decription du produit</p>',\r\n  editorConfig: {\r\n// The configuration of the editor.\r\n    toolbar: ['heading', '|', 'bold', 'italic', 'link', 'bulletedList', 'numberedList', 'blockQuote']\r\n  },\r\n\r\ntitlePage:\"Documents de Ventes\",\r\nsearchclient:'',\r\ncheminUrl: 'http://127.0.0.1/apisababa/',\r\nApiventes: 'ventes/API_ventes/',\r\nApiTaxes: 'parametrage/API_Taxes/',\r\nlisteclient: [],\r\nselected:null,\r\n  nbrlignetbl:0,\r\n  affiche: false,\r\nnbrcaract : 0,\r\n  i:0,\r\n  nomclient: '',\r\n  titrecivil:'',\r\n  adresse:'',\r\n  adressesuite:'',\r\n  codepostal:'',\r\n  ville:'',\r\n  emailclient:'',\r\n  telfixe:'',\r\n  telportable:'',\r\n  objetdocument:\"\",\r\n  datedocument:\"\",\r\n  datedocumentlimite:\"\",\r\n  listeTva: [],\r\n  selectedtva: '',\r\n\r\n  datadescription: '',\r\n  Prixvente:0.00,\r\n  Qantite: 0,\r\n  designationproduit: '',\r\n\r\nnbrlignedocument :1,\r\n  document : [\r\n    {id:1 ,designation : '', description: '',quantite:0,prixventeht:0,tva:0,typeligne:0}\r\n],\r\n   idligne : 1, \r\n  dragging: false,\r\n\r\n  Commentaire: false,\r\n  titrebloc : false,\r\n\r\n\r\n}\r\n\r\n},\r\n\r\n   mounted: function () {\r\n\r\nthis.InitAll ()\r\n\r\n\r\n  },\r\n\r\n  computed : {\r\n\r\n    draggingInfo() {\r\n      return this.dragging ? \"under drag\" : \"\";\r\n    }\r\n\r\n\r\n\r\n\r\n\r\n},\r\n\r\nmethods:{\r\n\r\n\r\najxClientDb: function () {\r\n\r\nthis.nbrcaract = this.searchclient.length\r\nif (this.nbrcaract >=2) {\r\naxios.get(this.cheminUrl + this.Apiventes + 'SearchListClient/' +this.searchclient).then(response => {\r\nthis.listeclient = response.data\r\n  this.nbrlignetbl = this.listeclient.length\r\n  this.nbrlignetbl +=1\r\n   this.affiche= true\r\n}) // fin de la requete GET\r\n\r\n\r\n} // fin de if\r\n\r\n\r\n\r\n\r\n},\r\n\r\n  // fin de la fonction\r\n\r\n\r\n  Ajxcliendb2: function() {\r\n    this.nbrcaract = this.searchclient.length\r\n\r\n    if (this.nbrcaract < 2) {\r\n      this.affiche = false\r\n    }\r\n\r\n  },\r\n\r\n\r\n SelectChoixClient: function () {\r\n\r\n this.affiche = false\r\n\r\n   // retouver le ID + N° du tableau\r\n   for (this.i=0;this.i < this.listeclient.length;this.i ++)\r\n   {\r\n   if (this.listeclient[this.i]['idclient']=== this.selected)\r\n     {\r\n     this.nomclient = this.listeclient[this.i]['nomclient']\r\n     this.titrecivil= this.listeclient[this.i]['titrecivilite']\r\n     this.adresse=this.listeclient[this.i]['adresse']\r\n     this.adressesuite=this.listeclient[this.i]['adressesuite']\r\n     this.codepostal= this.listeclient[this.i]['codepostal']\r\n     this.ville = this.listeclient[this.i]['ville']\r\n     this.emailclient = this.listeclient[this.i]['email']\r\n     this.telfixe = this.listeclient[this.i]['telfixe']\r\n     this.telportable =  this.listeclient[this.i]['telportable']\r\n\r\n      }\r\n\r\n   }\r\n\r\n\r\n\r\n\r\n } ,\r\n\r\n  InitAll: function ()\r\n  {\r\n\r\n\r\n var datedaye = new Date()\r\n this.datedocument =   this.datedocumentlimite  =datedaye.getFullYear()+\"-\"+(datedaye.getMonth()+1)+'-'+datedaye.getDate()\r\n this.AfficheTVA()\r\n    \r\n } ,\r\n\r\n\r\n  AfficheTVA : function () {\r\n    axios.get(this.cheminUrl + this.ApiTaxes + 'afficheListeTva').then(response => {\r\n      this.listeTva = response.data\r\n    })\r\n  },\r\n\r\n  addlignedocument (iid)\r\n  {\r\nalert (iid)\r\n    if (idd ===\"bloc\")\r\n    {\r\n      // titre bloc\r\n\r\n\r\nthis.titrebloc  = true\r\nthis.Commentaire = false\r\n      this.idligne++;\r\n      this.document.push({id: this.idligne,titrebloc:'',typeligne:'bloc'})\r\n\r\n\r\n    }\r\n\r\nif (iid ==='commantaire')\r\n{\r\nthis.commentaire = true\r\nthis.titrebloc  = false\r\nthis.idligne++;\r\nthis.document.push({id: this.idligne,commentaire:'',typeligne:'commentaire'})\r\n}\r\n\r\n\r\n    if (iid === 'produit') {\r\n\r\n      this.titrebloc  = false\r\n\r\n      this.Commentaire = false\r\n\r\n\r\nthis.idligne++;\r\nthis.document.push({id: this.idligne, designation: '', description: '', quantite: 0, prixventeht: 0, tva: 0,typeligne: 'produit'})\r\n\r\n    }\r\n\r\n  } ,\r\n\r\n\r\n  removelignedocument(idligne) {\r\n\r\n  idligne ++;\r\n  alert (idligne)\r\n    this.document.splice(idligne, 1);\r\n  },\r\n\r\n\r\n} // fin du groupe methode\r\n\r\n\r\n\r\n\r\n\r\n\r\n}  // fin du projet\r\n\r\n</script>\r\n\r\n<style>\r\n.all-scroll {cursor: all-scroll;}\r\n.ghost {\r\n  opacity: 0.5;\r\n  background: #c8ebfb;\r\n}\r\n\r\n</style>\r\n\r\n"]}]}